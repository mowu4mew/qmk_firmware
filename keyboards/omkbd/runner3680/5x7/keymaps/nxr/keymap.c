#include QMK_KEYBOARD_H

/*
#ifdef SSD1306OLED
  #include "ssd1306.h"
#endif
#include "keymap_jp.h"
#include "action_layer.h"
*/

#ifdef PROTOCOL_LUFA
  #include "lufa.h"
  #include "split_util.h"
#endif

extern keymap_config_t keymap_config;


/*
#ifdef RGBLIGHT_ENABLE
//Following line allows macro to read current RGB settings
extern rgblight_config_t rgblight_config;
#endif

extern uint8_t is_master;
*/

// Layer
enum layer_number {
    _NUM = 0,		//Default Layer For NUM
	_CMD,			//Layer For CMD
    _SLCT,           //Layer For Select
    _ABC            //Layer For alfabet

};

enum tapdances{
  TD_KCPAB = 0,
  TD_KCANM,
};

qk_tap_dance_action_t tap_dance_actions[] = {
  [TD_KCPAB] = ACTION_TAP_DANCE_DUAL_ROLE(KC_P, _ABC),
  [TD_KCANM] = ACTION_TAP_DANCE_DUAL_ROLE(KC_A, _NUM),
};

/*
//Sample Macro for KC
enum macro_keycodes {
  KC_SAMPLEMACRO,
};
*/

//Special KeyCode
enum custom_keycodes {
  NUM = SAFE_RANGE,	//Change Layer for NUM
  CMD,				//Change Layer for Command
  SLCT,             //Change Layer for Select
  ABC               //Change Layer for Alfabet
};

//Alias
#define MT_SE LT(_SLCT,KC_ESC)     //hold:"SLCT"   tap:"ESC"
#define MT_CE LT(_CMD,KC_ENTER)     //hold:"CMD"    tap:"ENTER"

#define MC_DTR LGUI(C(KC_RIGHT))  //Desk top move right
#define MC_DTL LGUI(C(KC_LEFT))   //Desk top move left

//Keymap
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_NUM] = LAYOUT( \
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
        _______, _______, _______, _______, _______, _______, _______,  TD(TD_KCPAB),KC_TAB,   KC_F8,  KC_DEL,   KC_F5, S(KC_8), KC_BSPC,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,        KC_X,    KC_7,    KC_8,    KC_9, KC_SLSH, S(KC_9),   KC_UP,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     C(KC_Y),    KC_4,    KC_5,    KC_6, KC_PAST, KC_LEFT,KC_RIGHT,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     C(KC_Z),    KC_1,    KC_2,    KC_3, KC_MINS, KC_LCTL, KC_DOWN,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
      _______, _______, _______, _______, _______, _______, _______,         MT_SE,    KC_0,S(KC_MINS),KC_DOT, KC_PPLS, KC_LSFT,   MT_CE
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
      ),

  [_CMD] =  LAYOUT( \
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
        _______, _______, _______, _______, _______, _______, _______,     XXXXXXX,    KC_K,    KC_J,    KC_H,    KC_I, C(KC_N), C(KC_S),
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,    S(KC_F),C(S(KC_END)),S(KC_M),S(KC_C),S(KC_A), S(KC_P),    KC_D,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     S(KC_E), S(KC_Y), S(KC_R), S(KC_B), S(KC_D), S(KC_H),    KC_X,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     S(KC_G), S(KC_I), S(KC_J), S(KC_K), S(KC_L), S(KC_N), S(KC_O),
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,    C(KC_W),C(S(KC_I)),C(KC_B),C(S(KC_K)),C(KC_F2),C(KC_F),_______
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
      ),

  [_SLCT] = LAYOUT( \
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
        _______, _______, _______, _______, _______, _______, _______,       KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,   KC_F7,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,       KC_F8,   KC_F9,  KC_F10,  KC_F11,  KC_F12,  KC_F13,  KC_F14,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     _______,    KC_C,    KC_F,    KC_G,    KC_E,    KC_B, _______,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     _______, C(KC_X), C(KC_C), C(KC_V), _______, _______, _______,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,     _______, C(KC_A), KC_MHEN, KC_HENK,  MC_DTL,  MC_DTR, _______
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
  ),


  [_ABC] = LAYOUT( \
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
        _______, _______, _______, _______, _______, _______, _______,   TD(TD_KCANM), KC_B,    KC_C,    KC_D,    KC_E, S(KC_8), KC_BSPC,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,        KC_F,    KC_G,    KC_H,    KC_I,    KC_J, S(KC_9),   KC_UP,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,        KC_K,    KC_L,    KC_M,    KC_N,    KC_O, KC_LEFT,KC_RIGHT,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,        KC_P,    KC_Q,    KC_R,    KC_S,    KC_T,    KC_U, KC_DOWN,
    //|--------+--------+--------+--------+--------+--------+--------|   |--------+--------+--------+--------+--------+--------+--------|
        _______, _______, _______, _______, _______, _______, _______,        KC_V,    KC_W,    KC_X,    KC_Y,    KC_Z, KC_LSFT,  KC_ENT
    //,--------------------------------------------------------------|   |---------------------------------------------------------------.
  )

};
